/*!
 * Copyright (c) 2018 Rich Harris
 * https://github.com/sveltejs/svelte-virtual-list/blob/master/LICENSE
 */
!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}(n,i))}function c(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function l(t,e,n,i,o,r,s){const l=function(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|o[i];return t}return e.dirty|o}return e.dirty}(e,i,o,r);if(l){const o=c(e,n,i,s);t.p(o,l)}}function u(t,e,n=e){return t.set(n),e}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function p(){return g(" ")}function m(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e,n){e in t?t[e]=n:$(t,e,n)}function w(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let x,b;function v(){if(void 0===x){x=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){x=!0}}return x}function k(t,e,n){t.classList[n?"add":"remove"](e)}function _(t){b=t}function S(){if(!b)throw new Error("Function called outside component initialization");return b}function E(t){S().$$.on_mount.push(t)}const I=[],C=[],O=[],q=[],A=Promise.resolve();let H=!1;function L(){H||(H=!0,A.then(N))}function M(){return L(),A}function z(t){O.push(t)}let T=!1;const j=new Set;function N(){if(!T){T=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];_(e),B(e.$$)}for(_(null),I.length=0;C.length;)C.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(I.length);for(;q.length;)q.pop()();H=!1,T=!1,j.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const W=new Set;let P;function F(){P={r:0,c:[],p:P}}function K(){P.r||i(P.c),P=P.p}function R(t,e){t&&t.i&&(W.delete(t),t.i(e))}function V(t,e,n,i){if(t&&t.o){if(W.has(t))return;W.add(t),P.c.push((()=>{W.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function D(t,e){V(t,1,1,(()=>{e.delete(t.key)}))}function G(t,n,r){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,r),z((()=>{const n=c.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(z)}function J(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,o,r,s,c,l,u=[-1]){const f=b;_(e);const d=o.props||{},h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let g=!1;if(h.ctx=r?r(e,d,((t,n,...i)=>{const o=i.length?i[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),g&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),L(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],h.update(),g=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);h.fragment&&h.fragment.l(t),t.forEach(a)}else h.fragment&&h.fragment.c();o.intro&&R(e.$$.fragment),G(e,o.target,o.anchor),N()}_(f)}class U{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];const Y=t=>({item:16&t}),Z=t=>({item:t[23].data});function tt(t,e,n){const i=t.slice();return i[23]=e[n],i}function et(t,e){let n,i,o;const r=e[13].default,s=function(t,e,n,i){if(t){const o=c(t,e,n,i);return t[0](o)}}(r,e,e[12],Z),u=s||function(t){let e;return{c(){e=g("Missing template")},m(t,n){d(t,e,n)},d(t){t&&a(e)}}}();return{key:t,first:null,c(){n=h("svelte-virtual-list-row"),u&&u.c(),i=p(),y(n,"class","svelte-1tqh76q"),this.first=n},m(t,e){d(t,n,e),u&&u.m(n,null),f(n,i),o=!0},p(t,e){s&&s.p&&4112&e&&l(s,r,t,t[12],e,Y,Z)},i(t){o||(R(u,t),o=!0)},o(t){V(u,t),o=!1},d(t){t&&a(n),u&&u.d(t)}}}function nt(t){let e,n,i,o,r,s,c=[],l=new Map,u=t[4];const g=t=>t[23].index;for(let e=0;e<u.length;e+=1){let n=tt(t,u,e),i=g(n);l.set(i,c[e]=et(i,n))}return{c(){e=h("svelte-virtual-list-viewport"),n=h("svelte-virtual-list-contents");for(let t=0;t<c.length;t+=1)c[t].c();w(n,"padding-top",t[5]+"px"),w(n,"padding-bottom",t[6]+"px"),y(n,"class","svelte-1tqh76q"),w(e,"height",t[0]),y(e,"class","svelte-1tqh76q"),z((()=>t[16].call(e)))},m(l,u){d(l,e,u),f(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);t[14](n),t[15](e),i=function(t,e){const n=getComputedStyle(t),i=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const o=h("iframe");o.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const r=v();let s;return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=m(window,"message",(t=>{t.source===o.contentWindow&&e()}))):(o.src="about:blank",o.onload=()=>{s=m(o.contentWindow,"resize",e)}),f(t,o),()=>{(r||s&&o.contentWindow)&&s(),a(o)}}(e,t[16].bind(e)),o=!0,r||(s=m(e,"scroll",t[7]),r=!0)},p(t,[i]){if(4112&i){const e=t[4];F(),c=function(t,e,n,i,o,r,s,c,l,u,f,d){let a=t.length,h=r.length,g=a;const p={};for(;g--;)p[t[g].key]=g;const m=[],$=new Map,y=new Map;for(g=h;g--;){const t=d(o,r,g),c=n(t);let l=s.get(c);l?i&&l.p(t,e):(l=u(c,t),l.c()),$.set(c,m[g]=l),c in p&&y.set(c,Math.abs(g-p[c]))}const w=new Set,x=new Set;function b(t){R(t,1),t.m(c,f),s.set(t.key,t),f=t.first,h--}for(;a&&h;){const e=m[h-1],n=t[a-1],i=e.key,o=n.key;e===n?(f=e.first,a--,h--):$.has(o)?!s.has(i)||w.has(i)?b(e):x.has(o)?a--:y.get(i)>y.get(o)?(x.add(i),b(e)):(w.add(o),a--):(l(n,s),a--)}for(;a--;){const e=t[a];$.has(e.key)||l(e,s)}for(;h;)b(m[h-1]);return m}(c,i,g,1,t,e,l,n,D,et,null,tt),K()}(!o||32&i)&&w(n,"padding-top",t[5]+"px"),(!o||64&i)&&w(n,"padding-bottom",t[6]+"px"),(!o||1&i)&&w(e,"height",t[0])},i(t){if(!o){for(let t=0;t<u.length;t+=1)R(c[t]);o=!0}},o(t){for(let t=0;t<c.length;t+=1)V(c[t]);o=!1},d(n){n&&a(e);for(let t=0;t<c.length;t+=1)c[t].d();t[14](null),t[15](null),i(),r=!1,s()}}}function it(t,e,n){let i,o,r,s,c,l,{$$slots:u={},$$scope:f}=e,{items:d}=e,{height:a="100%"}=e,{itemHeight:h}=e,{start:g=0}=e,{end:p=0}=e,m=[],$=0,y=0,w=0;return E((()=>{i=r.getElementsByTagName("svelte-virtual-list-row"),n(19,c=!0)})),t.$$set=t=>{"items"in t&&n(10,d=t.items),"height"in t&&n(0,a=t.height),"itemHeight"in t&&n(11,h=t.itemHeight),"start"in t&&n(8,g=t.start),"end"in t&&n(9,p=t.end),"$$scope"in t&&n(12,f=t.$$scope)},t.$$.update=()=>{1792&t.$$.dirty&&n(4,s=d.slice(g,p).map(((t,e)=>({index:e+g,data:t})))),527368&t.$$.dirty&&c&&async function(t,e,r){const{scrollTop:s}=o;await M();let c=y-s,u=g;for(;c<e&&u<t.length;){let t=i[u-g];t||(n(9,p=u+1),await M(),t=i[u-g]),c+=m[u]=r||t.offsetHeight,u+=1}n(9,p=u);const f=t.length-p;l=(y+c)/p,n(6,w=f*l),m.length=t.length}(d,$,h)},[a,o,r,$,s,y,w,async function(){const{scrollTop:t}=o,e=g;for(let t=0;t<i.length;t+=1)m[g+t]=h||i[t].offsetHeight;let r=0,s=0;for(;r<d.length;){const e=m[r]||l;if(s+e>t){n(8,g=r),n(5,y=s);break}s+=e,r+=1}for(;r<d.length&&(s+=m[r]||l,r+=1,!(s>t+$)););n(9,p=r);const c=d.length-p;for(l=s/p;r<d.length;)m[r++]=l;if(n(6,w=c*l),g<e){await M();let n=0,r=0;for(let t=g;t<e;t+=1)i[t-g]&&(n+=m[t],r+=h||i[t-g].offsetHeight);const s=r-n;o.scrollTo(0,t+s)}},g,p,d,h,f,u,function(t){C[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(t){C[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(){$=this.offsetHeight,n(3,$)}]}class ot extends U{constructor(t){super(),Q(this,t,it,nt,r,{items:10,height:0,itemHeight:11,start:8,end:9})}}function rt(t){let e,n,i;return n=new ot({props:{height:t[1],items:t[2],$$slots:{default:[st,({item:t})=>({27:t}),({item:t})=>t?134217728:0]},$$scope:{ctx:t}}}),{c(){var i;e=h("ul"),(i=n.$$.fragment)&&i.c(),w(e,"--item-width",t[6]?t[6]+"px":"100%")},m(t,o){d(t,e,o),G(n,e,null),i=!0},p(t,o){const r={};2&o&&(r.height=t[1]),4&o&&(r.items=t[2]),402653352&o&&(r.$$scope={dirty:o,ctx:t}),n.$set(r),(!i||64&o)&&w(e,"--item-width",t[6]?t[6]+"px":"100%")},i(t){i||(R(n.$$.fragment,t),i=!0)},o(t){V(n.$$.fragment,t),i=!1},d(t){t&&a(e),J(n)}}}function st(t){let e,n,i,o,r=t[27].name+"";function s(...e){return t[18](t[27],...e)}return{c(){e=h("li"),n=g(r),$(e,"class","list-item svelte-wc9pqr"),k(e,"selected",-1!=t[3].indexOf(t[27])),k(e,"inactive",t[7]&&t[7]!=t[5])},m(t,r){d(t,e,r),f(e,n),i||(o=m(e,"click",s),i=!0)},p(i,o){t=i,134217728&o&&r!==(r=t[27].name+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,r),134217736&o&&k(e,"selected",-1!=t[3].indexOf(t[27])),160&o&&k(e,"inactive",t[7]&&t[7]!=t[5])},d(t){t&&a(e),i=!1,o()}}}function ct(t){let e,n,i,o,r,s=t[2].length>0&&rt(t);return{c(){e=h("div"),s&&s.c(),n=p(),i=h("ul"),o=h("li"),w(o,"display","inline-block"),w(o,"overflow","visible"),w(o,"min-width","auto"),w(o,"width","auto"),w(i,"visibility","hidden"),w(i,"height","0"),w(i,"overflow-y","scroll"),$(e,"class","list-view svelte-wc9pqr"),w(e,"width",t[0])},m(c,l){d(c,e,l),s&&s.m(e,null),f(e,n),f(e,i),f(i,o),t[19](o),t[20](e),r=!0},p(t,[i]){t[2].length>0?s?(s.p(t,i),4&i&&R(s,1)):(s=rt(t),s.c(),R(s,1),s.m(e,n)):s&&(F(),V(s,1,1,(()=>{s=null})),K()),(!r||1&i)&&w(e,"width",t[0])},i(t){r||(R(s),r=!0)},o(t){V(s),r=!1},d(n){n&&a(e),s&&s.d(),t[19](null),t[20](null)}}}let lt=function(e,n=t){let i;const o=[];function s(t){if(r(e,t)&&(e=t,i)){const t=!X.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,c=t){const l=[r,c];return o.push(l),1===o.length&&(i=n(s)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(i(),i=null)}}}}(null);function ut(t){return t&&"object"==typeof t&&"name"in t}function ft(t,e,n){let i;s(t,lt,(t=>n(7,i=t)));let o,r,c,{width:l="auto"}=e,{height:f="100px"}=e,{items:d=[]}=e,{multiSelect:a=!1}=e,h=[...d],g=[],p=[];var m;function $(t,e){if(!i||i==c)if(a&&t.ctrlKey){const t=g.indexOf(e);-1!=t?(g.splice(t,1),n(3,g)):n(3,g=[...g,e]),u(lt,i=c,i)}else{if(1==g.length&&-1!=g.indexOf(e))return;n(3,g=[e]),o&&o(g.length),p=[...g],u(lt,i=null,i)}}function y(){n(6,_=x(k))}function w(t){i&&i==c&&"Control"==t.key&&(function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;++n)if(-1==e.indexOf(t[n]))return!1;return!0}(p,g)||o&&o(g.length),p=[...g],u(lt,i=null,i))}function x(t){if(r)return n(4,r.textContent=t,r),r.getBoundingClientRect().width}function b(t){if(Array.isArray(t)){for(let e=0;e<t.length;e++)if(!ut(t[e]))return!1;return n(2,h=[...t]),n(3,g=[]),p=[],!0}return!1}function v(){return 0==g.length?[]:h.reduce(((t,e,n)=>(g.includes(e)&&t.push(n),t)),[])}E((()=>{n(6,_=x(k)),window.addEventListener("resize",y),a&&document.addEventListener("keyup",w)})),m=()=>{window.removeEventListener("resize",y),a&&document.removeEventListener("keyup",w)},S().$$.on_destroy.push(m);let k,_;return t.$$set=t=>{"width"in t&&n(0,l=t.width),"height"in t&&n(1,f=t.height),"items"in t&&n(9,d=t.items),"multiSelect"in t&&n(10,a=t.multiSelect)},t.$$.update=()=>{4&t.$$.dirty&&n(23,k=h.reduce(((t,e)=>t.length<e.name.length?e.name:t),"")),8388608&t.$$.dirty&&n(6,_=x(k))},[l,f,h,g,r,c,_,i,$,d,a,b,v,function(){return v().map((t=>h[t]))},function(t){return!!ut(t)&&(n(2,h=[...h,t]),!0)},function(t){if(0<=t&&t<h.length){const e=g.indexOf(h[t]);return h.splice(t,1),n(2,h),-1!=e&&(g.splice(e,1),n(3,g)),!0}return!1},function(){0!=h.length&&b([])},function(t){o=t},(t,e)=>$(e,t),function(t){C[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(t){C[t?"unshift":"push"]((()=>{c=t,n(5,c)}))}]}class dt extends U{constructor(t){super(),Q(this,t,ft,ct,r,{width:0,height:1,items:9,multiSelect:10,setItems:11,getSelectedIndexes:12,getSelectedItems:13,add:14,remove:15,clear:16,setCallback:17})}get setItems(){return this.$$.ctx[11]}get getSelectedIndexes(){return this.$$.ctx[12]}get getSelectedItems(){return this.$$.ctx[13]}get add(){return this.$$.ctx[14]}get remove(){return this.$$.ctx[15]}get clear(){return this.$$.ctx[16]}get setCallback(){return this.$$.ctx[17]}}window.ListView=function(t){const e=new dt(t);let n,i={};const o=["setItems","getSelectedIndexes","getSelectedItems","add","remove","clear"];for(let t=0;t<o.length;t++){const n=o[t];e[n]&&(i[n]=e[n])}return i.setCallback=t=>{n=t},e.setCallback((t=>{n&&n(i,t)})),i}}();
